import React from 'react';

class App extends React.Component {
  state = {
    'xCoordinate': 13,
    'yCoordinate': 17
  };

  getMapData() {
    return [
      ["┌","─","─","─","─","─","─","─","─","─","─","─","─","┬","┬","─","─","─","─","─","─","─","─","─","─","─","─","┐"],
      ["│",".",".",".",".",".",".",".",".",".",".",".",".","│","│",".",".",".",".",".",".",".",".",".",".",".",".","│"],
      ["│",".","┌","─","─","┐",".","┌","─","─","─","┐",".","│","│",".","┌","─","─","─","┐",".","┌","─","─","┐",".","│"],
      ["│",".","│"," "," ","│",".","│"," "," "," ","│",".","│","│",".","│"," "," "," ","│",".","│"," "," ","│",".","│"],
      ["│",".","└","─","─","┘",".","└","─","─","─","┘",".","└","┘",".","└","─","─","─","┘",".","└","─","─","┘",".","│"],
      ["│",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","│"],
      ["│",".","┌","─","─","┐",".","┌","┐",".","┌","─","─","─","─","─","─","┐",".","┌","┐",".","┌","─","─","┐",".","│"],
      ["│",".","└","─","─","┘",".","│","│",".","└","─","─","┐","┌","─","─","┘",".","│","│",".","└","─","─","┘",".","│"],
      ["│",".",".",".",".",".",".","│","│",".",".",".",".","│","│",".",".",".",".","│","│",".",".",".",".",".",".","│"],
      ["├","─","─","─","─","┐",".","│","├","─","─","┐",".","│","│",".","┌","─","─","┤","│",".","┌","─","─","─","─","┤"],
      ["│"," "," "," "," ","│",".","│","├","─","─","┘",".","└","┘",".","└","─","─","┤","│",".","│"," "," "," "," ","│"],
      ["│"," "," "," "," ","│",".","│","│",".",".",".",".",".",".",".",".",".",".","│","│",".","│"," "," "," "," ","│"],
      ["│"," "," "," "," ","│",".","│","│",".","┌","─","─","─","─","─","─","┐",".","│","│",".","│"," "," "," "," ","│"],
      ["├","─","─","─","─","┘",".","└","┘",".","│"," "," "," "," "," "," ","│",".","└","┘",".","└","─","─","─","─","┤"],
      [".",".",".",".",".",".",".",".",".",".","│"," "," "," "," "," "," ","│",".",".",".",".",".",".",".",".",".","."],
      ["├","─","─","─","─","┐",".","┌","┐",".","│"," "," "," "," "," "," ","│",".","┌","┐",".","┌","─","─","─","─","┤"],
      ["│"," "," "," "," ","│",".","│","│",".","└","─","─","─","─","─","─","┘",".","│","│",".","│"," "," "," "," ","│"],
      ["│"," "," "," "," ","│",".","│","│",".",".",".",".","P",".",".",".",".",".","│","│",".","│"," "," "," "," ","│"],
      ["│"," "," "," "," ","│",".","│","│",".","┌","─","─","─","─","─","─","┐",".","│","│",".","│"," "," "," "," ","│"],
      ["├","─","─","─","─","┘",".","└","┘",".","└","─","─","┐","┌","─","─","┘",".","└","┘",".","└","─","─","─","─","┤"],
      ["│",".",".",".",".",".",".",".",".",".",".",".",".","│","│",".",".",".",".",".",".",".",".",".",".",".",".","│"],
      ["│",".","┌","─","─","┐",".","┌","─","─","─","┐",".","│","│",".","┌","─","─","─","┐",".","┌","─","─","┐",".","│"],
      ["│",".","└","─","┐","│",".","└","─","─","─","┘",".","└","┘",".","└","─","─","─","┘",".","│","┌","─","┘",".","│"],
      ["│",".",".",".","│","│",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","│","│",".",".",".","│"],
      ["├","─","┐",".","│","│",".","┌","┐",".","┌","─","─","─","─","─","─","┐",".","┌","┐",".","│","│",".","┌","─","┤"],
      ["├","─","┘",".","└","┘",".","│","│",".","└","─","─","┐","┌","─","─","┘",".","│","│",".","└","┘",".","└","─","┤"],
      ["│",".",".",".",".",".",".","│","│",".",".",".",".","│","│",".",".",".",".","│","│",".",".",".",".",".",".","│"],
      ["│",".","┌","─","─","─","─","┘","└","─","─","┐",".","│","│",".","┌","─","─","┘","└","─","─","─","─","┐",".","│"],
      ["│",".","└","─","─","─","─","─","─","─","─","┘",".","└","┘",".","└","─","─","─","─","─","─","─","─","┘",".","│"],
      ["│",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","│"],
      ["└","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","─","┘"]
    ];
  }

  renderMap() {
    const mapData = this.getMapData();
    let yAxis = 0;
    return mapData.map(elements => {
      let xAxis = 0;
      let mapLine = elements.map(
        element => {
          const datumn = (this.state.xCoordinate === xAxis && this.state.yCoordinate === yAxis) ? 'X' : element; 

          return (
            <span 
              xaxis={xAxis++}
              yaxis={yAxis}
              style={{ display: 'inline-block', width: '20px' }}
            >
              {datumn}
            </span>
          );
        }
      );
      
      mapLine.push(<br/>);
      yAxis++;
      return mapLine;
    })
  }

  componentDidMount() {
    document
      .addEventListener('keydown', (event) => {
        switch(event.keyCode) {
          case 87:
            this.setState({'yCoordinate': this.state.yCoordinate - 1});
            return;
          case 65:
            this.setState({'xCoordinate': this.state.xCoordinate - 1});
            return;
          case 83:
            this.setState({'yCoordinate': this.state.yCoordinate + 1});
            return;
          case 68:
            this.setState({'yCoordinate': this.state.xCoordinate + 1});
            return;
          default:
            return;
        }
      }); 
  }
  
  render() {
    return (
      <div id="pacman">
        {this.renderMap()}
      </div>
    );
  }
}

export default App;